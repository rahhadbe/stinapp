<div style="margin: 0.5rem;height: 80vh; overflow: auto">

    <form>
        <div class="form-group row">
            <label for="email" class="col-sm-2 col-form-label">Email
                <span style="color: red">*</span>
            </label>
            <div class="col-sm-10">
                <input [disabled]="isEmployeeDataLoaded" type="email" name="email" [(ngModel)]="email" class="form-control" id="email" placeholder="Email">
            </div>
        </div>
        <button *ngIf="!isFeedbackDataLoaded" [disabled]="!email || email == null || email.trim().length == 0" class="btn-primary" style="float: right;" (click)="search()">Search Feedback</button>
        <button *ngIf="isEmployeeDataLoaded" class="btn-primary" style="float: right; margin-right:0.5rem" (click)="reset()">Reset</button>
        <table *ngIf="isEmployeeDataLoaded" class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Feedback Id</th>
                    <th scope="col">Employee Email</th>
                    <th scope="col">Manager Email</th>
                    <th scope="col">Capture Date</th>
                    <th scope="col">Overall Sentiment</th>
                    <th scope="col">View</th>
                </tr>
            </thead>
            <tbody style="overflow: auto;height: 20vh;">
                <tr *ngFor="let feedback of feedbackDataList; index as i">
                    <td>{{feedback.feedbackid}}</td>
                    <td>{{feedback.employeeemail}}</td>
                    <td>{{feedback.manageremail}}</td>
                    <td>{{feedback.capturedate}}</td>
                    <td>{{feedback.aggsentiment_score}}</td>
                    <td>
                        <i (click)="viewFeedback(feedback)" style="cursor: pointer;" class="bi bi-info-square-fill"></i>
                    </td>
                </tr>
            </tbody>
        </table>
        <table *ngIf="isFeedbackDataLoaded" class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Feedback Category</th>
                    <th scope="col">Question</th>
                    <th scope="col">Response</th>
                    <th scope="col">Sentiment</th>
                </tr>
            </thead>
            <tbody style="overflow: auto;height: 30vh;">
                <tr *ngFor="let feedback of feedbackData; index as i">
                    <td>{{feedback.questioncategory}}</td>
                    <td>{{feedback.questioncontent}}</td>
                    <td>{{feedback.response}}</td>
                    <td>{{feedback.sentimentscore}}</td>
                </tr>
            </tbody>
        </table>

    </form>
</div>